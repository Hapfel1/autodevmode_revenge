(function(o,e){"use strict";let d;var a={onLoad:()=>{e.showToast("Auto DevMode: Plugin loaded!");const t=()=>{try{o.FluxDispatcher.dispatch({type:"USER_SETTINGS_PROTO_UPDATE",settings:{proto:{developerMode:{value:!0}}},local:!0}),e.showToast("Auto DevMode: Enabled!")}catch(u){e.showToast("Auto DevMode: Error - "+u)}};t(),setTimeout(()=>{t(),e.showToast("Auto DevMode: Retry attempt 1")},2e3),setTimeout(()=>{t(),e.showToast("Auto DevMode: Retry attempt 2")},5e3);const s=u=>{u?.settings?.proto?.developerMode?.value===!1&&(e.showToast("Auto DevMode: Detected disabled, re-enabling"),setTimeout(t,100))};o.FluxDispatcher.subscribe("USER_SETTINGS_PROTO_UPDATE",s),d=()=>{o.FluxDispatcher.unsubscribe("USER_SETTINGS_PROTO_UPDATE",s)}},onUnload:()=>{e.showToast("Auto DevMode: Plugin unloaded"),d?.()}};return a})(vendetta.metro.common,vendetta.ui.toasts);
